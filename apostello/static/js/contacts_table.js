webpackJsonp([1],{0:function(e,t,n){"use strict";var r=n(1),a=n(142),s=n(160);r.render(a.createElement(s,{url:"/api/v1/recipients/",pollInterval:2e4}),document.getElementById("contacts_table"))},160:function(e,t,n){(function(t){"use strict";var r=n(142),a=n(161);e.exports=r.createClass({displayName:"exports",archiveContact:function(e){var n=this;t.ajax({url:"/api/v1/recipients/"+e.pk,type:"POST",data:{archive:!0},success:function(e){n.loadResponsesFromServer()},error:function(e,t,n){window.alert("uh, oh. That didn't work."),console.log(e.status+": "+e.responseText)}})},loadResponsesFromServer:function(){t.ajax({url:this.props.url,dataType:"json",success:function(e){this.setState({data:e})}.bind(this),error:function(e,t,n){console.error(this.props.url,t,n.toString())}.bind(this)})},getInitialState:function(){return{data:[]}},componentDidMount:function(){this.loadResponsesFromServer(),setInterval(this.loadResponsesFromServer,this.props.pollInterval)},render:function(){var e=this,t=this.state.data.map(function(t,n){return r.createElement(a,{contact:t,key:n,archiveContact:e.archiveContact.bind(null,t)})});return r.createElement("table",{className:"ui padded table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Name"),r.createElement("th",null,"Last Message"),r.createElement("th",null,"Received"),r.createElement("th",null),r.createElement("th",null))),r.createElement("tbody",{className:"searchable"},t))}})}).call(t,n(155))},161:function(e,t,n){"use strict";var r=n(142),a=n(162);e.exports=r.createClass({displayName:"exports",render:function(){var e=this.props.is_blocking?"warning":"",t=null===this.props.contact.last_sms?{content:"",time_received:""}:this.props.contact.last_sms;return r.createElement("tr",{className:e},r.createElement("td",null,r.createElement("a",{href:this.props.contact.url},this.props.contact.full_name)),r.createElement("td",null,t.content),r.createElement("td",null,t.time_received),r.createElement("td",null),r.createElement("td",null,r.createElement(a,{item:this.props.contact,archiveFn:this.props.archiveContact})))}})},162:function(e,t,n){"use strict";var r=n(142);e.exports=r.createClass({displayName:"exports",render:function(){if(this.props.item.is_archived)var e="UnArchive";else var e="Archive";return r.createElement("a",{className:"ui tiny grey button",onClick:this.props.archiveFn},e)}})}});
//# sourceMappingURL=contacts_table.js.map